#+TITLE: Cycle Time Reduction of D-301 Blender
#+SUBTITLE:  
#+AUTHOR: Santhanaraj Chellaiah
#+DATE: Jan 8, 2018
#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS: [a4paper,oneside] 
#+LATEX_HEADER:
#+LATEX_HEADER_EXTRA:
#+DESCRIPTION:
#+KEYWORDS: Cycle time, process optimization, instrumentation, controller, NC-701, unit based control
#+SUBTITLE:
#+LATEX_COMPILER: pdflatex
#+OPTIONS: toc:nil H:3 num:4 col ^:{}
#+latex_header: \hypersetup{colorlinks=true,linkcolor=blue}

#+begin_abstract 
The D-301 blender is the one that blends NC-701 with different
products to produce various required compositions. NC-701 is unloaded
from a truck to the blender manually and the blending process is
intiated. This however has limited the availability of blender to a
point where the blender can be used only if the truck is available,
thus increasing the cycle time for an output from D-301. This paper
proposes the introduction of a buffer storage tank D-12516 along with
piping, valves, pumps and other instrumentation to reduce the cycle
time of the D-301 blender.
#+end_abstract

* Keywords
/Cycle time, process optimization, instrumentation, controller, NC-701, unit based control/

* Introduction
It is proposed that the material (NC-701) from the truck be unloaded
to a buffer storage tank D-12516. D-12516 will serve as a holding tank
when the trucks are available to unload. The material can be
transferred from D-12516 to D-301 as and when required. Material
unloading from the truck will be effected by pump MP-516T. This pump
could either transfer the material to D-12516 or to D-301
directly. The material stored in D-12516 can be transferred to D-301
using MP-516A pump.  

The following are the two benefits that are expected out of this proposal: 
  - The cycle time of D-301 will be greatly reduced
  - The truck waiting times can be drastically reduced resulting in lower cost
  - The product stored in D-12516 can be stored and maintained at a
    temperature, most suited for blending
* Overall Scheme
Below is the overall scheme for the project. 
#+ATTR_LATEX: :options angle=90 :width 10cm :float t
#+CAPTION: Schematic showing truck unloading, D-12516 tank and path to D-301
[[/home/prasanna/Documents/git/CSR/images/Overall_Scheme.png]]

* Process Narrative
The addition of a buffer storage tank calls for a operating procedure
to unload from the truck, recycle the product (and regulate
temperature, if required) and transfer to D-301 when required. It
should also specify when a direct transfer from tank truck can be
initiated toward the blender D-301. The following section details the
process narrative using state based (or unit based control). :width 15cm
** State based control
The following is the abstract from the white paper presented by David
A.Huffman on benefits of State Based Control.
#+BEGIN_QUOTE
State Based Control is a plant automation control design based on the
principle that all process facilities operate in recognized, definable
Process States that represent a variety of normal and abnormal
conditions of the process. State Based Control, implemented with the
latest developments in object-based technologies, delivers direct
benefits to its adopters in a variety of Operational Excellence
categories. It results in productivity increases, higher asset
utilization of both people and process, automated responses and
recovery for abnormal conditions and provides an environment for
knowledge capture directly into the control design.
#+END_QUOTE
The proposal intends leverage the State Based Control scheme for this
implementation. The various steps involved in control and operation of
the plant are listed below: 
1. Maintenance Wait
2. Process Wait
3. Recycle
4. Transfer
5. Unload
6. Direct Transfer
7. Line Clear
** Steps
*** Maintenance Wait
In this step, the instruments and the control system are in
maintenance. 

All the process valves will assume thier safe state. The
outputs from the control sytem will be in Fail-safe state. All (or
most) of the instruments are in de-energized state. Most of (or all
non-critical) the alarms are disabled in this step.
*** Process Wait
This is the step in which all the instruments, valves and the control
system remain energized. The plant is preparing for start up. 

The maintenance/operation team should ensure that all (or almost all)
instruments and valves are in healthy condition. Most of the alarms
are enabled in this step. Maintenance/operation would look of
instrument out of service alarms. If any of the devices are in
"out-of-service" state, they should be fixed and put in service for a
effect a start up.
*** Recycle
During the recycle step, the temperature of the product can be
controlled, if required. NC-701 is ideal for blending when its
temperature is around 45 degree Celcius. NC-701 is a highly viscous
liquid which needs to be agitated periodically to maintain consistency
of the product.

During the winter months, the product temperature drops because of
ambient tempertuare. In order to compensate and supplement heat to the
product, NC-701 can be passed through a heat exchanger in order to
raise its temperature. The NC-701 would pass through the tube side of
the exchanger. The shell side would pass a 30 barg steam from the
plants' existing steam header. The flow rate of NC-701 through the
heat exchanger E-12516H can be effected by throttling the control
valve CV-20813. If the product temperature drops, the steam control
valve CV-20814 should approach 100% open position while the CV-20813
should approach around 50% of opening. The best ratio of opening the
steam line vs opening the NC-701 line should be ascertained during
operation / trail run for utmost efficiency

During the summer months, the product temperature could go way beyond
the desired setpoint and might require cooling before being
blended. For this case, we can close CV-20813 and also the steam valve
CV-20814 and let the NC-701 to recycle through CV-20812. The tube side
of the exchanger E-12516C would pass NC-701. The shell side would pass
the cooling tower water to effect cooling of NC-701. The flow rate of
NC-701 is adjusted using the control valve CV-20812 to effect the
desired cooling. Note that, the cooling tower water does not have any
controls on it which is unlike the steam control line which is used in
the heating circuit.
*** Transfer
During this step, the material from D-12516 will be transferred to
D-301 blender. 

The pump MP-516A will be used to effect this transfer via the ON-OFF
valves EV-20811, ABV-20815 and ABV-20850. During the transfer step, it
should also be ensured that the control valves CV-20812 and CV-20813
remain completely closed to avoid any recirculation. The nitrogen
purge line should also remain isolated (or closed) using EV-20816.
Before a transfer is initiated, sufficient level in D-12516 must be
ensured. This will prevent the dry running of MP-516A which might in
turn damage the seal of the pump. D-12516 should be at least at 60%
level (arbitrary value) to intiate a transfer.
*** Unload        
During the unload step, NC-701 is unloaded from the truck to
D-12516. 

The pump MP-516T is utilized to pump the material from the truck to
the tank. Since unloading requires manual connection of the unload
hose to the tank truck, a signal to indicate ready-to-unload is
provided by the operator. This signal will serve as a permissive to
starting MP-516T pump. The material will flow via the pump MP-516T,
ABV-20815 and CV-20813. Note that CV-20813 valve leads into the
E-12516H heat exchanger. During unload, the steam supply to the
E-12516H is shut off. The control valve CV-20813 is a fail-open
valve. It should be ensured that EV-20811 and EV-20816 remain closed
during the unload step.
*** Direct Transfer
During the Direct transfer step, the material from the truck is
directly transferred to the D-301 blender. This is the present set
up. Hence this functionality is being retained.

In order to effect a direct transfer, a signal from D-301 blender
control system is required to inform that the material can be accepted
by the D-301 blender. After reciept of this signal, the operator shall
connect the hose to the tank truck and start the MP-516T pump for the
direct transfer to happen. The NC-701 will flow through EV-20851 and
EV-20850 to reach D-301. It should be ensured to close EV-20816 and
ABV-20815 during the direct transfer step to avoid material flowing
into the D-12516 circuit or into the N_{2} line.
*** Line Clear    
The purpose of line clear step is to ensure that NC-701 does not clog
the line leading to the blender D-301.

The N_{2} is purged by opening EV-20816 and EV-20850 valves. N_{2}
enters the D-301 carrying with it any residual NC-701 and leaves D-301
through a N_{2} vent. Line clear operation should be carried out for a
minimum of 30 minutes (arbitrary value) to ensure complete purging of
the line leading to D-301. During this step, it should be ensured to
close the EV-20851 and ABV-20815 to prevent N_{2} from flowing
elsewhere than desired.
* Step Transition
During startup, the process would start in Maintenance wait step. The
transition (or changeover) from one step to another (like from
maintenance wait to process wait step) may be initiated either
manually or may happen automatically based on process conditions. The
following section defines the condition for the transition to happen
and shows a pictorial step diagram.
 #+BEGIN_SRC ascii 
STEP DIAGRAM                                                
------------                                                
                                                            
                       +-----------------+                  
                       |   MAINTENANCE   |                  
                       |      WAIT       |                  
                       +--+--------------+                  
                        M |           ^                     
                          V           | M                   
                       +--------------+--+                  
         +-------------|     PROCESS     |<-----------+     
         |           M |      WAIT       |            |     
         |             +--+--------------+            |     
         |              M |            ^              |     
         |                V            | M/A          |     
         |             +---------------+-+            |     
         |             |     RECYCLE     |<-----------+     
         |       +-----|                 |<------+    |     
         |       |   M +--------+--------+       |    |     
         |       |            A |                |    |     
         |       |              V                |    |     
         |       |     +-----------------+  A    |    |     
         |       |     |     TRANSFER    |---+   |    |     
         |       |     |                 |   |   |    |     
         |       |     +-----------------+   |   |    |     
         |       |                           |   |    |     
         |       |                           |   |    |     
         |       |     +-----------------+   |   |    |     
         |       +---->|     UNLOAD      |-- | --+    |     
         +------------>|                 | M |        |     
         |       |     +-----------------+   |        |     
         |       |                           |        |     
         |       |                           |        |     
         |       |     +-----------------+   |        |     
         +------------>|     DIRECT      |   |        |     
         |       |     |    TRANSFER     |   |        |     
         |       |     +--------+--------+   |        |     
         |       |            M |            |        |     
         |       |              V            |        |     
         |       |     +-----------------+   |        |     
         |       +---->|    LINE CLEAR   |<--+  A     |     
         +------------>|                 |------------+     
                       +-----------------+                  
M denotes a manual transition initiated by the operator
A denotes an automatic transition based on process condition
#+END_SRC

* Control Narrative
The control narrative will pictorically represent the process
conditions that are required in each of the steps. There are no valve
line up and vessel line up requirements for Maintenance Wait and
Process Wait steps as there are no actions/functions.
** Recycle         
#+ATTR_LATEX: :options angle=90 :width 10cm :float t 
#+CAPTION: Recycle step
[[/home/prasanna/Documents/git/CSR/images/Recycle.png]]


** Transfer
#+ATTR_LATEX: :options angle=90 :width 10cm :float t
#+CAPTION: Transfer from D-12516 to D-301
[[/home/prasanna/Documents/git/CSR/images/Transfer.png]]
** Unload          
#+ATTR_LATEX: :options angle=90 :width 10cm :float t
#+CAPTION: Unload from truck to D-12516
[[/home/prasanna/Documents/git/CSR/images/Unload.png]]
** Direct Transfer 
#+ATTR_LATEX: :options angle=90 :width 10cm :float t
#+CAPTION: Unload from truck and Direct transfer to D-301
[[/home/prasanna/Documents/git/CSR/images/DirectTransfer.png]]
** Line Clear      
#+ATTR_LATEX: :options angle=90 :width 10cm :float t
#+CAPTION: Line clear
[[/home/prasanna/Documents/git/CSR/images/LineClear.png]]
* P & ID
<< /Insert P & ID here/ >>
* IO list
    #+NAME: IO List 
    #+CAPTION: IO List for D-12516 tank addition
    #+ATTR_LATEX: :font \footnotesize :float sidewaystable :placement [hp]

| Tag Name | IO # | I/O Type | Description                                   | Equip. Name | Min. Value | Max. Value | Eng Units | P & ID No | Output Failure State |
|          | <l>  |          |                                               |             |            |            |           |           |                      |
|----------+------+----------+-----------------------------------------------+-------------+------------+------------+-----------+-----------+----------------------|
| PIT20804 | 181  | AI       | D-12516 N2 Pad Pressure [inH2O]               | D12516      | 0          | 25         | inH2O     |           |                      |
| TT20806  | 182  | AI       | D-12516 Temperature [degC]                    | D12516      | 0          | 200        | DEGC      |           |                      |
| TT20807  | 162  | AI       | D-12516 recycle line temperature [degC]       | D12516      | 0          | 200        | DEGC      |           |                      |
| JT20809  | 180  | AI       | MP-516A power meter [hp]                      | MP-516A     | 0          | 25         | hp        |           |                      |
| TT20808  | 165  | AI       | MP-516A suction temperature [degC]            | MP-516A     | 0          | 200        | DEGC      |           |                      |
| PIT20810 | 163  | AI       | MP-516A discharge pressure [psig]             | MP-516A     | 0          | 200        | PSIG      |           |                      |
| TT20853  | 159  | AI       | MP-516T suction temperature [degC]            | MP-516T     | 0          | 200        | DEGC      |           |                      |
| PIT20852 | 135  | AI       | MP-516T discharge pressure [psig]             | MP-516T     | 0          | 200        | PSIG      |           |                      |
| JT20854  | 432  | AI       | MP-516T power meter [hp]                      | MP-516T     | 0          | 25         | hp        |           |                      |
| EY20854  | 401  | DO       | MP-516T should run [on, off]                  | MP-516T     | Off        | On         |           |           | F.Off                |
| EY20809  | 130  | DO       | MP-516A should run [on, off]                  | MP-516A     | Off        | On         |           |           | F.Off                |
| EV20850  | 112  | DO       | D-12516/TT to D-301 BV [open, close]          | D12516      | Close      | Open       |           |           | F.Close              |
| EV20851  | 403  | DO       | MP-516T discharge BV F.C. [open,close]        | D12516      | Close      | Open       |           |           | F.Close              |
| EV20816  | 131  | DO       | D-12516 Outlet N2 clear BV [open, close]      | D12516      | Close      | Open       |           |           | F.Close              |
| EV20815  | 133  | DO       | D-12516 Outlet BV [open, close]               | D12516      | Close      | Open       |           |           | F.Close              |
| EV20811  | 132  | DO       | MP-516A discharge BV F.O. [close, open]       | D12516      | Open       | Close      |           |           | F.Open               |
| ZS20854  | 109  | DI       | MP-516T is on [on, off]                       | MP-516T     | Off        | On         |           |           |                      |
| ZS20809  | 130  | DI       | MP-516A is on [on, off]                       | MP-516A     | Off        | On         |           |           |                      |
| ZSC20850 | 112  | DI       | D-12516/TT to D-301 BV ZSC [closed, open]     | D12516      |            |            |           |           |                      |
| ZSC20851 | 113  | DI       | MP-516T discharge BV ZSC [close,open]         | D12516      |            |            |           |           |                      |
| ZSC20816 | 131  | DI       | D-12516 Outlet N2 clear BV ZSC [closed, open] | D12516      |            |            |           |           |                      |
| ZSC20815 | 133  | DI       | D-12516 Outlet BV ZSC [closed, open]          | D12516      |            |            |           |           |                      |
| ZSC20811 | 132  | DI       | MP-516A discharge BV ZSC [open, close]        | D12516      | Closed     | Open       |           |           |                      |
| ZSO20811 | 149  | DI       | MP-516A discharge BV ZSO [close, open]        | D12516      | Open       | Closed     |           |           |                      |
| CV20812  | 104  | AO       | E-12516C Cooler CV                            | D12516      | 0          | 110        | %         |           | F.Close              |
| CV20813  | 105  | AO       | E-12516C Heater CV F.O.                       | D12516      | 0          | 110        | %         |           | F.Open               |
| CV20814  | 102  | AO       | E-12516C Steam CV                             | D12516      | 0          | 110        | %         |           | F.Close              |
| EV40215  | 428  | DO       | D-301 NC-701 BV [open, close]                 | D301        | Close      | Open       |           |           |                      |
| ZSC40215 | 429  | DI       | D-301 NC-701 BV ZSC [closed, open]            | D301        |            |            |           |           |                      |
| LIT20805 | 140  | AI       | D-12516 dP Level [%]                          | D12516      | 0          | 100        | %         |           |                      |
| LSH20802 | 183  | AI       | D-12516 Level Switch [not High, High]         | D12516      | high       | not high   |           |           |                      |

Based on the proposed control narrative, the following IO count would be required to realize the project. 
| S.No. | IO Type | IO Qty |
|-------+---------+--------|
|     1 | AI      |     11 |
|     2 | AO      |      3 |
|     3 | DI      |      9 |
|     4 | DO      |      8 |



* Bill of Material
<< /Insert BOM here/ >>
* Conclusion
* References
1. [[https://www.controlglobal.com/assets/knowledge_centers/abb/assets/Benefits-of-state-based-control-white-paper.pdf][Benefits of State Based Control]]
2. 
